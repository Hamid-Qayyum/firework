<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Do You Love Me Mae?</title>
<style>
html,body{
    height:100%;
    margin:0;
    overflow:hidden;
    background:url('./mae.jpg') center/cover no-repeat fixed;
    font-family:system-ui;
    color:#fff;
    text-align:center;
}
#questionBox{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    z-index:10;
    background:#ffffff10;
    padding:25px 30px;
    border-radius:20px;
    border:1px solid #ffffff18;
    backdrop-filter:blur(8px);
}
#loveMessage{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:28px;
    font-weight:bold;
    display:none;
    z-index:20;
    text-shadow:0 0 12px #ff377d;
}
button{
    font-size:18px;
    padding:10px 28px;
    margin:10px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    background:#ff4088;
    color:#fff;
    transition:0.25s;
    border:1px solid #ffffff33;
}
button:hover{background:#ff659f}
#noBtn{background:#ff2d55}
#noBtn:hover{background:#ff537a}
canvas{
    display:block;
    position:fixed;
    inset:0;
    z-index:0;
    background:transparent;
}
.ground-glow{
    position:fixed;
    left:50%;
    bottom:0;
    transform:translateX(-50%);
    width:1200px;
    height:300px;
    border-radius:50%;
    filter:blur(50px);
    opacity:0.15;
    background:radial-gradient(closest-side,#ff6b9a 0%,transparent 50%);
    z-index:1;
    pointer-events:none;
}
</style>
</head>
<body>
<div id="questionBox"></div>
<div id="loveMessage">I love you too ‚ù§Ô∏è You have such a beautiful heart. I am so happy to meet you and I love your smile. You are very precious to me. Take care of yourself always, beautiful girl. You are my happiness.</div>
<div class="ground-glow"></div>
<canvas id="scene"></canvas>
<audio id="popSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>
<script>
const canvas = document.getElementById('scene');
const ctx = canvas.getContext('2d');
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;

function rand(a,b){return Math.random()*(b-a)+a}

// Leaves
const leafSVG = `data:image/svg+xml;utf8,`+encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='120' height='80' viewBox='0 0 120 80'><defs><linearGradient id='g' x1='0' x2='1'><stop offset='0%' stop-color='#b3003b'/><stop offset='40%' stop-color='#ff6b9a'/><stop offset='100%' stop-color='#2b8f4a'/></linearGradient></defs><g transform='translate(10,10)'><path d='M5 35 C25 5, 70 5, 95 35 C70 65, 25 65, 5 35 Z' fill='url(#g)' stroke='#2b512d' stroke-width='2' fill-opacity='0.95'/><path d='M20 34 C35 20, 55 20, 75 34' stroke='#ffffff33' stroke-width='1' fill='none'/></g></svg>`);
const leafImg = new Image(); leafImg.src = leafSVG;

class Leaf{
    constructor(){this.reset(true)}
    reset(init){this.x=rand(-200,W+200); this.y=init?rand(-H,H):rand(-200,-50); this.size=rand(12,40); this.speedY=rand(.4,1.6); this.speedX=rand(-.6,.6); this.angle=rand(0,Math.PI*2); this.spin=rand(-.02,.02); this.swing=rand(.5,2.5); this.swingPhase=rand(0,Math.PI*2); this.opacity=rand(.7,1);}
    update(d){this.y+=this.speedY*d; this.x+=Math.sin(this.y/50+this.swingPhase)*this.swing*.2+this.speedX*d; this.angle+=this.spin*d; if(this.y>H+100) this.reset(false);}
    draw(){ctx.save(); ctx.globalAlpha=this.opacity; ctx.translate(this.x,this.y); ctx.rotate(this.angle); const s=this.size/120; ctx.drawImage(leafImg,-60*s,-40*s,120*s,80*s); ctx.restore();}
}

const leaves = [];
for(let i=0;i<Math.max(18,Math.floor(innerWidth/45));i++) leaves.push(new Leaf());

// Fireworks
class Particle{constructor(x,y,vx,vy,c,l){this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.c=c;this.l=l;this.a=0;this.s=rand(1,3);}
update(d){this.x+=this.vx*d; this.y+=this.vy*d; this.vy+=.03*d; this.vx*=.999; this.vy*=.999; this.a+=d;}
draw(){ctx.globalAlpha=Math.max(0,1-this.a/this.l); ctx.beginPath(); ctx.fillStyle=this.c; ctx.arc(this.x,this.y,this.s,0,7); ctx.fill();}
dead(){return this.a>=this.l;}}

class Firework{
    constructor(x,y){
        this.p=[];
        const h=Math.floor(rand(0,360));
        const cols=[];
        for(let i=0;i<6;i++) cols.push(`hsl(${(h+i*30)%360} 90% 60%)`);
        for(let i=0;i<rand(30,120);i++){const ang=rand(0,7); const sp=rand(0,rand(1.5,4.5)); this.p.push(new Particle(x,y,Math.cos(ang)*sp,Math.sin(ang)*sp,cols[Math.floor(rand(0,6))],rand(60,140)));}
    }
    update(d){this.p.forEach(p=>p.update(d)); this.p=this.p.filter(p=>!p.dead());}
    draw(){this.p.forEach(p=>p.draw());}
    dead(){return !this.p.length;}
}

const fireworks = [];
let fireEnabled = false;

canvas.addEventListener('pointerdown', e => {
    if(!fireEnabled) return;
    let r = canvas.getBoundingClientRect();
    let x = (e.clientX - r.left) * (canvas.width / r.width);
    let y = (e.clientY - r.top) * (canvas.height / r.height);
    fireworks.push(new Firework(x,y));
    document.getElementById('popSound').play().catch(()=>{});
});

let last = performance.now();
function loop(t){
    let d = Math.min(60,t-last)/16;
    last=t;
    
    // Keep canvas transparent to see background
    ctx.clearRect(0,0,W,H);

    if(fireEnabled) leaves.forEach(l=>{l.update(d); l.draw();});
    if(fireEnabled){fireworks.forEach(f=>{f.update(d); f.draw();}); for(let i=fireworks.length-1;i>=0;i--) if(fireworks[i].dead()) fireworks.splice(i,1);}
    requestAnimationFrame(loop);
}
leafImg.onload = () => requestAnimationFrame(loop);
addEventListener('resize',()=>{W=canvas.width=innerWidth; H=canvas.height=innerHeight;});

// Question box buttons
const qBox = document.getElementById('questionBox');

function attachButtonEvents() {
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');

    yesBtn.addEventListener('click', () => {
        qBox.style.display = 'none';
        document.getElementById('loveMessage').style.display = 'block';
        fireEnabled = true;
        setInterval(() => {
            if(fireEnabled) fireworks.push(new Firework(rand(0, W), rand(0, H/2)));
        }, 500);
    });

    noBtn.addEventListener('click', () => {
        qBox.innerHTML = "<h2>Dont Say No Mae! I love you so muchüòû! ‚ù§Ô∏è</h2><button id='yesBtn'>Yes</button><button id='noBtn'>No</button>";
        attachButtonEvents(); // re-attach events
    });
}

// Initial load of buttons
qBox.innerHTML = "<h2>Mae, Do You Love Me? ‚ù§Ô∏è</h2><button id='yesBtn'>Yes</button><button id='noBtn'>No</button>";
attachButtonEvents();

</script>
</body>
</html>
